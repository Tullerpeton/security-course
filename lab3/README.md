# Лабораторная №3
## Задание
Написать алгоритм шифрования DES для файлов (любых, в т.ч. пустых и односимвольных).

Требования:
- ЯП: любой
- Данные кодируются и декодируются

## Вопросы
- Чем отличается шифрование от расшифровки? Ответ: порядком использования ключей и работай с блоками.
При шифровании ключи используются по порядку от [1]->[16], при расшифровке в обратном порядке
от [16]->[1]. При шифровании происходит разбиение на блоки, добавление длины сообщения в конец и выравнивание. 
При расшифровке - всё в обратном направлении.
- Различаются ли размер входного и шифрованного файлов? Ответ: да, различаются. Минимум различие будет в одном байте.
А максимум в 8 байтах (длина + 7 выравнивание). Поскольку мы добавляем длину самого сообщения и выполняем выравниевание, 
если (размер_сообщения + n) % 8 != 0.
- Как генерируются раундовые ключи? Ответ: 1) Перестановка сжатия для удаления битов проверки – из 64- битового ключа 
удаляют биты 8,16,24, 32,...,64 и переставляет остальные биты согласно таблице 
(в ходе перестановки сохраняется нумерация битов расширенного ключа). 2) После перестановки 56 битов ключа делятся на два 
блока C0 и D0 по 28 бит каждый. Дале для генерации раундовых ключей из блоков C0 и D0 с помощью операции циклического 
сдвига влево на 1-2 бита строятся блоки Ci и Di , i * 1, 2,...,16. В раундах 1,2,9 и 16 смещение – на 1 бит, в 
других раундах — на 2 бита. После определения блоков Ci и Di биты этих блоков объединяются в один ключ на 56 битов. 3) 
Перестановка сжатия (P-бокс, таблица) изменяет 56 битов на 48 битов, которые образуют раундовый ключ.
- Почему в основном цикле 16 итераций? Ответ: трейдоф между перфомансом и скоростью.
- Как работает алгоритм в целом? Ответ: [лекция](https://bit.nmu.org.ua/ua/student/metod/cryptology/лекция%206.pdf).

## Как работает
Проверяем файл, данные из которого будем кодировать
```shell
$ cat ./lab3/config/password.txt
qwerty
```
Билдим
```shell
$ go build -o main lab3/main.go   
```
Кодируем данные и сохраняем в `test_data/enc_password.txt`
```shell
$ ./main ./lab3/test_data/password.txt
```
Смотрим что надекодировали в `test_data/dec_password.txt`
```shell
$ cat ./lab3/test_data/dec_password.txt
qwerty
```
