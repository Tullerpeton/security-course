# Лабораторная №2
## Задание

Программа _enigma_ с помощью алгоритма Энигмы кодирует файл _input_ и записывает результат в файл _output_

Начальная настройка Энигмы находится в файле _settings.txt_

Используется 3 ротора и рефлектор, алфавит содержит 256 символов

[Статья на хабре](https://habr.com/ru/post/217331/) с полным пояснением работы Энигмы

Требования:
- ЯП: любой
- Данные кодируются и декодируются

## Вопросы
Основные вопросы при защите лабы:
- Как заполняете ротор? (Генерим слайс от 0 до 255 и затем перемешиваем его)
- Как заполняете рефлектор? (Генерим слайс от 0 до 255 и затем перемешиваем его. 
А уже потом итерируемся по слайсу с шагом 2 и наполняем мапу парами вида (x->y, y->x))
- Как деаете оборот ротора? (Поворачиваем ротор и проверяем полный ли круг повернулся ротор)
- Сколько раз повернется ротор, если размер файл X? (Первый ротор - `X`, второй ротор - `X/256`, третий ротор - `X/(256^2)`)
- Как меняется размер файла при шифровании? (Никак, один байт кодируется одним байтом)

## Как работает
### Сборка и запуск
```shell
$ go build -o enigma *.go
$ ./enigma <input_file> <output_file> [-n]
```
`[-n]` - перегенерировать настройки

### Демонстрация работоспособности
Проверяем файл, данные из которого будем кодировать
```shell
$ cat test_data/1.txt
hello world!
```

Кодируем данные и сохраняем в `test_data/2.txt`
```shell
$ ./enigma test_data/1.txt test_data/2.txt
```
Смотрим что накодировали
```shell
$ cat test_data/2.txt
v�ż���a���
```

Кодируем обратно и проверяем
```shell
$ ./enigma test_data/2.txt test_data/3.txt
$ cat test_data/3.txt
hello world!
```